#!/usr/bin/env bash

SHIMS="$HOME/.local/share/pyenv/shims" 

echo "Installing or updating trash-cli"
$SHIMS/pip install trash-cli 'trash-cli[completion]' --upgrade

# Set up completions
cmds=(trash-empty trash-list trash-restore trash-put trash)
for cmd in ${cmds[@]}; do
  $SHIMS/$cmd --print-completion bash | sudo tee /usr/share/bash-completion/completions/$cmd > /dev/null
  $SHIMS/$cmd --print-completion zsh | sudo tee /usr/share/zsh/site-functions/_$cmd > /dev/null
done
